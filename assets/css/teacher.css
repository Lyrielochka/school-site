/* ================== TOKENS / RESET ================== */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
:root{
  --radius:16px;

  /* скорость анимаций */
  --anim-slow:36s;
  --anim-mid:18s;
  --anim-fast:8s;

  /* ===== ОФИЦИАЛЬНАЯ (emerald) — по умолчанию ===== */
  --bg:#D3E3DB;      /* слегка темнее прежнего */
  --bg-2:#FFFFFF;
  --bg-3:#CFE0D7;
  --fg:#0E1C16;
  --muted:#4B6158;
  --line:#BFD6CB;

  --accent:#1FA36D;
  --accent-2:#38D497;
  --accent-08: rgba(31,163,109,.08);
  --accent-12: rgba(31,163,109,.12);
  --accent-18: rgba(31,163,109,.18);
  --accent-28: rgba(31,163,109,.28);
  --shadow:0 18px 44px rgba(39,112,84,.20);

  --title-bright:#22e39c;
  --title-bright-2:#79f1c5;
}
/* ===== ТЁМНАЯ (чёрно-золотая) ===== */
:root[data-theme="dark"]{
  --bg:#121212; --bg-2:#1a1a1a; --bg-3:#1f1f1f;
  --fg:#eeeeee; --muted:#aaaaaa; --line:#2b2b2b;
  --accent:#f5c542;
  --accent-08: rgba(245,197,66,.08);
  --accent-12: rgba(245,197,66,.12);
  --accent-18: rgba(245,197,66,.18);
  --accent-28: rgba(245,197,66,.28);
  --shadow:0 10px 30px rgba(0,0,0,.6);
  --title-bright:#ffd766; --title-bright-2:#fff3b3;
}

body{
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  background:var(--bg); color:var(--fg); line-height:1.6; overflow-x:hidden;
  -webkit-text-size-adjust:100%;
}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
:focus-visible{outline:2px solid color-mix(in oklab, var(--accent) 70%, #fff 30%); outline-offset:2px}

.wrap{overflow-wrap:anywhere;word-break:break-word}
.min-0{min-width:0}
.lh-tight{line-height:1.35}
.container{max-width:1200px;margin:0 auto;padding:24px}

/* ================== THEMED BACKGROUND (как на главной, без HTML-дивов) ================== */
body::before,
body::after{
  content:""; position:fixed; z-index:-2; pointer-events:none; border-radius:50%;
  filter: blur(60px);
}
body::before{
  width:42vmax; height:42vmax; left:-10vmax; top:10vmax; background:rgba(31,163,109,.22);
  animation: orb-float var(--anim-mid) ease-in-out infinite;
}
body::after{
  width:34vmax; height:34vmax; right:-8vmax; bottom:8vmax; background:rgba(56,212,151,.18);
  animation: orb-float-2 calc(var(--anim-mid)*1.08) ease-in-out infinite;
}
/* лёгкие ленты/полосы поверх */
html::before, html::after{
  content:""; position:fixed; inset:-26%; z-index:-3; pointer-events:none;
  filter: blur(110px) saturate(1.05); opacity:.85;
  background:
    conic-gradient(from 220deg at 28% 38%,
      transparent 0 10%, rgba(31,163,109,.32) 18%, rgba(56,212,151,.22) 28%, rgba(26,133,90,.30) 40%, transparent 54%),
    conic-gradient(from -10deg at 72% 62%,
      transparent 0 12%, rgba(56,212,151,.26) 22%, rgba(31,163,109,.20) 34%, transparent 48%),
    radial-gradient(720px 520px at 18% 20%, rgba(31,163,109,.28), transparent 62%),
    radial-gradient(760px 560px at 84% 18%, rgba(56,212,151,.20), transparent 64%),
    radial-gradient(820px 600px at 20% 86%, rgba(26,133,90,.24), transparent 66%),
    radial-gradient(820px 580px at 86% 84%, rgba(31,163,109,.18), transparent 66%),
    linear-gradient(135deg, rgba(31,163,109,.06) 0 25%, transparent 25% 50%, rgba(31,163,109,.06) 50% 75%, transparent 75% 100%);
  background-size:auto,auto,auto,auto,auto,auto,32px 32px;
  animation:
    aurora-rot var(--anim-slow) linear infinite,
    aurora-pan var(--anim-mid) ease-in-out infinite,
    emerald-stripes var(--anim-slow) linear infinite;
}
html::after{
  opacity:.55; animation:
    aurora-rot-rev calc(var(--anim-slow)*1.1) linear infinite,
    aurora-pan-rev calc(var(--anim-mid)*1.05) ease-in-out infinite,
    emerald-stripes-rev calc(var(--anim-slow)*1.02) linear infinite;
}
/* DARK фон — поглубже и без зелёного орнамента */
:root[data-theme="dark"] body::before,
:root[data-theme="dark"] body::after{ display:none }
:root[data-theme="dark"] html::before,
:root[data-theme="dark"] html::after{
  background:
    radial-gradient(1200px 600px at 60% -10%, #1a1a1a 0%, transparent 60%),
    radial-gradient(900px 300px at 8% 120%, #151515 0%, transparent 60%),
    radial-gradient(900px 300px at 92% 120%, #151515 0%, transparent 60%),
    #121212;
  filter:none; opacity:1; inset:0;
  animation:none;
}

/* ================== PAGE HEADER (стили как на главной) ================== */
header.page{padding:8px 0 12px; position:relative}
.kicker{color:var(--muted);font-size:14px}
h1{
  font-family:'Russo One', Inter, sans-serif;
  font-size:clamp(26px,3.6vw,40px); letter-spacing:.2px;
  background:linear-gradient(180deg, var(--title-bright-2), var(--title-bright));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow:0 2px 0 rgba(0,0,0,.18), 0 0 22px color-mix(in oklab, var(--title-bright) 30%, transparent);
}
.sub{color:var(--muted)}
/* декоративная линия под заголовком */
header.page::after{
  content:""; display:block; height:2px; width:min(680px,86vw); margin:14px 0 0;
  background:
    linear-gradient(90deg, transparent, color-mix(in oklab, var(--accent) 45%, white), transparent),
    linear-gradient(90deg, transparent 0%, rgba(255,255,255,.75) 15%, transparent 30%);
  background-size:100% 100%, 180px 100%;
  border-radius:999px;
  animation: shine var(--anim-fast) linear infinite;
}

/* ================== BACK BUTTON ================== */
.back-btn{
  display:inline-flex;align-items:center;gap:8px;
  padding:10px 16px;border-radius:12px;
  background:linear-gradient(180deg, var(--accent-2), var(--accent));
  color:#0e1512;font-weight:800;text-decoration:none;border:1px solid color-mix(in oklab, var(--accent) 50%, #0a0a0a);
  box-shadow:0 10px 24px var(--accent-18), inset 0 0 0 1px rgba(255,255,255,.15);
  transition:.25s; cursor:pointer
}
.back-btn:hover{ transform:translateY(-1px); box-shadow:0 14px 28px var(--accent-28), 0 0 0 1px color-mix(in oklab, var(--accent) 35%, #000) inset }
.back-btn:active{ transform:translateY(0) }
.back-btn svg{flex-shrink:0}

/* ================== LAYOUT ================== */
main.grid{
  display:grid; gap:24px;
  grid-template-columns:300px 1fr;
  grid-template-areas:
    "search  search"
    "sidebar results";
}
@media (max-width: 980px){
  main.grid{
    grid-template-columns:1fr;
    grid-template-areas:
      "search"
      "results"
      "sidebar";
  }
}

/* ================== CARDS ================== */
.card{
  position:relative; overflow:hidden; text-align:left;
  background:linear-gradient(180deg, var(--bg-2), color-mix(in oklab, var(--bg-2) 88%, #000 12%));
  border:1px solid var(--line); border-radius:var(--radius);
  box-shadow:var(--shadow);
  transition:transform .25s, background .25s, box-shadow .25s, border-color .25s;
}
.card .body{padding:18px}
.card::before{
  content:""; position:absolute; inset:-1px; border-radius:calc(var(--radius) + 2px); z-index:0;
  background: conic-gradient(from 180deg at 50% 50%, transparent 0 55%, var(--accent-18) 60%, transparent 70% 100%);
  filter: blur(14px); opacity:0; transition:.3s; pointer-events:none;
}
.card::after{
  content:""; position:absolute; left:-40%; top:-140%; width:80%; height:300%;
  transform: rotate(18deg); pointer-events:none;
  background:linear-gradient(90deg, transparent, rgba(255,255,255,.14), transparent);
  opacity:0; transition:.35s;
}
.card:hover{
  transform:translateY(-4px);
  background:linear-gradient(180deg, var(--bg-2), color-mix(in oklab, var(--bg-2) 84%, #000 16%));
  border-color:color-mix(in oklab, var(--accent) 28%, var(--line));
  box-shadow:0 20px 44px rgba(39,112,84,.22), 0 0 0 1px color-mix(in oklab, var(--accent) 15%, #000) inset;
}
.card:hover::before{opacity:1}
.card:hover::after{opacity:1; left:120%}

/* ================== SEARCH ================== */
.searchbar{grid-area:search}
.searchbar .field{
  display:flex; align-items:center; gap:10px;
  border:1px solid var(--line);
  background:color-mix(in oklab, var(--bg-3) 96%, #000 4%);
  padding:10px 12px; border-radius:12px
}
.searchbar input[type="search"]{
  flex:1; background:transparent; border:0; outline:0; color:var(--fg); font-size:16px
}
.searchbar svg{opacity:.9}

/* ================== SIDEBAR ================== */
.sidebar{grid-area:sidebar}
.menu h3{font-size:16px;margin:0 0 8px}
.menu ul{display:grid;gap:8px;list-style:none}
.menu a{
  display:block; padding:10px 12px; border-radius:10px;
  border:1px solid var(--line);
  background:linear-gradient(180deg, var(--bg-2), color-mix(in oklab, var(--bg-2) 90%, #000 10%));
  color:var(--fg); text-decoration:none; transition:.2s;
}
.menu a:hover{ border-color:color-mix(in oklab, var(--accent) 22%, var(--line)) }
.menu a.active{
  background:linear-gradient(180deg, var(--accent-2), var(--accent));
  color:#0e1512; border-color:color-mix(in oklab, var(--accent) 55%, #000);
  box-shadow:0 6px 16px var(--accent-18), inset 0 0 0 1px rgba(255,255,255,.12);
}

/* ================== RESULTS ================== */
#results{grid-area:results}
.group+.group{margin-top:16px}
.group .title{
  display:flex; align-items:center; gap:8px; font-weight:800;
  font-size:clamp(18px,2.2vw,24px);
  color:var(--accent)
}
.counter{
  display:inline-block; min-width:28px; padding:4px 8px; font-size:12px;
  border-radius:999px; background:var(--bg-3); border:1px solid var(--line);
  text-align:center; color:#214c39;
}
:root[data-theme="dark"] .counter{ color:#cfcfcf }

.teachers{
  display:grid; grid-template-columns:repeat(2,1fr); gap:12px; margin-top:10px
}
@media (max-width: 760px){ .teachers{ grid-template-columns:1fr } }

.teacher{
  display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
  padding:12px 14px; border-radius:12px;
  background:linear-gradient(180deg, var(--bg-3), color-mix(in oklab, var(--bg-3) 90%, #000 10%));
  border:1px solid var(--line);
  transition:.2s;
}
.teacher:hover{
  border-color:color-mix(in oklab, var(--accent) 20%, var(--line));
  box-shadow:0 10px 24px rgba(39,112,84,.14);
}
.teacher .name{font-weight:600}
.teacher .note{color:var(--accent)}

/* ================== KEYFRAMES ================== */
@keyframes shine{
  0%{ background-position:0 0, -180px 0 }
  100%{ background-position:0 0, calc(100% + 180px) 0 }
}
@keyframes aurora-rot{ 0%{transform:rotate(0)} 100%{transform:rotate(360deg)} }
@keyframes aurora-rot-rev{ 0%{transform:rotate(0)} 100%{transform:rotate(-360deg)} }
@keyframes aurora-pan{ 0%,100%{ transform: translate3d(0,0,0) } 50%{ transform: translate3d(2%, -1%, 0) } }
@keyframes aurora-pan-rev{ 0%,100%{ transform: translate3d(0,0,0) } 50%{ transform: translate3d(-2%, 1%, 0) } }
@keyframes emerald-stripes{ 0%{ background-position:center,center,center,center,center,center, 0 0 } 100%{ background-position:center,center,center,center,center,center, 64px 64px } }
@keyframes emerald-stripes-rev{ 0%{ background-position:center,center,center,center,center,center, 0 0 } 100%{ background-position:center,center,center,center,center,center, -64px -64px } }
@keyframes orb-float{ 0%,100%{ transform: translate3d(0,0,0) } 50%{ transform: translate3d(2vw,-1.2vw,0) } }
@keyframes orb-float-2{ 0%,100%{ transform: translate3d(0,0,0) } 50%{ transform: translate3d(-1.5vw,1vw,0) } }

/* ================== REDUCED MOTION ================== */
@media (prefers-reduced-motion: reduce){
  html::before, html::after, body::before, body::after{ display:none }
  header.page::after{ animation:none }
}
