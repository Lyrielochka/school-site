<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Интерактивное расписание — Урицкая средняя школа</title>
<style>
  /* ===== Тема (как на сайте) ===== */
  :root{
    --bg:#121212;--bg2:#1a1a1a;--bg3:#1f1f1f;
    --fg:#eee;--muted:#aaa;--line:#2b2b2b;
    --accent:#f5c542;--shadow:0 10px 30px rgba(0,0,0,.6);
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{font-family:Segoe UI,Arial,sans-serif;background:var(--bg);color:var(--fg);line-height:1.6}

  /* Hero */
  header.hero{position:relative;text-align:center;padding:80px 20px;background:#0f0f0f url("assets/images/hero-schedule.jpg") center/cover no-repeat}
  header.hero::after{content:"";position:absolute;inset:0;background:rgba(0,0,0,.65)}
  header .inner{position:relative;z-index:1;max-width:1100px;margin:0 auto}
  .title{font-size:clamp(2rem,4.8vw,3rem);color:var(--accent);text-shadow:0 0 16px rgba(245,197,66,.7)}
  .subtitle{margin-top:6px;color:#e7e7e7}
  .back-btn{display:inline-block;margin-top:16px;padding:10px 18px;background:var(--accent);color:#121212;font-weight:600;text-decoration:none;border-radius:8px;transition:.25s}
  .back-btn:hover{background:#d4a52a;color:#fff}

  main{max-width:1200px;margin:0 auto;padding:26px 20px}

  /* Панель управления */
  .controls{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px}
  @media (max-width:720px){.controls{grid-template-columns:1fr}}
  .control{background:var(--bg3);border:1px solid var(--line);border-radius:12px;padding:10px 12px;box-shadow:var(--shadow)}
  .control label{display:block;font-size:.9rem;color:#ddd;margin-bottom:6px}
  select, .tabs{width:100%;background:#1b1b1b;border:1px solid var(--line);color:#eee;border-radius:10px}
  select{padding:10px 12px;outline:none}
  .tabs{display:flex;gap:6px;flex-wrap:wrap;padding:6px}
  .tabs button{flex:1;min-width:110px;background:#222;border:1px solid var(--line);color:#eee;border-radius:8px;padding:8px 10px;cursor:pointer;transition:.2s}
  .tabs button.active{background:var(--accent);color:#121212;border-color:#e0b43a}
  .tabs button:hover{background:#2a2a2a}

  /* Таблица расписания */
  .wrap{overflow:auto;border:1px solid var(--line);border-radius:12px;background:var(--bg3);box-shadow:var(--shadow)}
  table{border-collapse:separate;border-spacing:0;width:100%;min-width:820px}
  thead th{position:sticky;top:0;background:#242424;color:var(--accent);z-index:1;border-bottom:1px solid var(--line)}
  th,td{padding:10px 12px;border-bottom:1px solid var(--line);border-right:1px solid var(--line);text-align:left;vertical-align:middle}
  th:first-child, td:first-child{position:sticky;left:0;background:#202020;z-index:2}
  tr:last-child td{border-bottom:none}
  th:last-child, td:last-child{border-right:none}
  tbody tr:hover td{background:#262626}

  /* Ячейки-уроки */
  .lesson{position:relative;background:#1b1b1b;border:1px solid #333;border-radius:8px;padding:8px 10px}
  .lesson .subj{font-weight:600}
  .lesson .room{display:none;position:absolute;left:50%;transform:translateX(-50%);bottom:calc(100% + 8px);white-space:nowrap;background:#000000cc;color:#fff;border:1px solid #222;border-radius:8px;padding:6px 8px;font-size:.85rem;pointer-events:none}
  .lesson:hover .room{display:block}
  .shift1{background:#1f2430} /* визуально отличим смены по фону */
  .shift2{background:#1f2a20}

  /* Пояснения */
  .legend{color:var(--muted);font-size:.9rem;margin-top:10px}
  .note{margin-top:6px;color:#ddd}

  footer{background:#0d0d0d;color:#8a8a8a;text-align:center;padding:22px 20px;margin-top:26px}
</style>
</head>
<body>

<header class="hero">
  <div class="inner">
    <h1 class="title">Интерактивное расписание</h1>
    <p class="subtitle">Переключайте дни недели и параллели классов</p>
    <a href="index.html" class="back-btn">← Вернуться на главную</a>
  </div>
</header>

<main>
  <!-- Панель управления -->
  <div class="controls">
    <div class="control">
      <label for="parallel">Параллель</label>
      <select id="parallel">
        <option value="all">Все (5–11)</option>
        <option value="5">5 классы</option>
        <option value="6">6 классы</option>
        <option value="7">7 классы</option>
        <option value="8">8 классы</option>
        <option value="9">9 классы</option>
        <option value="10">10 классы</option>
        <option value="11">11 классы</option>
      </select>
    </div>
    <div class="control">
      <label>День недели</label>
      <div class="tabs" id="days"></div>
    </div>
  </div>

  <!-- Таблица -->
  <div class="wrap">
    <table id="tbl">
      <thead id="thead"></thead>
      <tbody id="tbody"></tbody>
    </table>
  </div>

  <div class="legend">
    Подсказка: наведите на предмет — увидите <b>кабинет</b>. Цвет ячеек различает <span style="color:#9dc1ff">1-ю смену</span> и <span style="color:#9dffb3">2-ю смену</span>.
    <div class="note">Урок — 45 минут; перемены 10–15 минут. 1-я смена: 08:00–13:30 (6 уроков). 2-я смена: 14:00–19:30 (6 уроков).</div>
  </div>
</main>

<footer>© 2025 Урицкая средняя школа</footer>

<script>
/* ===== Данные ===== */

/* Временные слоты (6 уроков): 1-я смена */
const TIMES_SHIFT1 = [
  "08:00–08:45","08:55–09:40","09:50–10:35",
  "10:50–11:35","11:45–12:30","12:45–13:30"
];
/* 2-я смена (с тем же ритмом) */
const TIMES_SHIFT2 = [
  "14:00–14:45","14:55–15:40","15:50–16:35",
  "16:50–17:35","17:45–18:30","18:45–19:30"
];

/* Смены по параллелям (по задаче) */
const SHIFT1_GRADES = new Set([5,7,9,10,11]);
const SHIFT2_GRADES = new Set([6,8]);

/* Генерация наборов классов: A, Б, В, Г */
const LETTERS = ["А","Б","В","Г"];
const GRADES = [];
for(let g=5; g<=11; g++){
  for(const L of LETTERS){ GRADES.push(`${g} «${L}»`); }
}

/* Предметы (Беларусь) — без «истории России» */
const SUBJECTS = [
  "Беларуская мова","Русская литература","Русский язык",
  "Математика","Алгебра","Геометрия",
  "Английский язык","Информатика","Физика",
  "Химия","Биология","География",
  "История Беларуси","Всемирная история",
  "Обществоведение","Физкультура","Музыка",
  "Трудовое обучение","Черчение","Классный час"
];

/* Фиксируем «кабинеты» детерминированно по строке */
function roomFor(key){
  // простое хеш-соответствие 101..339
  let h=0; for(let i=0;i<key.length;i++) h=(h*31 + key.charCodeAt(i))>>>0;
  const num = 101 + (h % 239);
  return `Каб. ${num}`;
}

/* Генерация расписания на неделю для всех классов */
const DAYS = ["Пн","Вт","Ср","Чт","Пт"];
// для воспроизводимости — псевдослучайный выбор по ключу
function pickSubject(grade, day, slot){
  const key = `${grade}-${day}-${slot}`;
  let h=0; for(let i=0;i<key.length;i++) h=(h*33 + key.charCodeAt(i))>>>0;
  return SUBJECTS[h % SUBJECTS.length];
}

/* ===== UI построение ===== */
const daysEl = document.getElementById('days');
DAYS.forEach((d,idx)=>{
  const b=document.createElement('button');
  b.textContent=d;
  b.dataset.dayIndex=idx;
  if(idx===0) b.classList.add('active');
  daysEl.appendChild(b);
});

const thead = document.getElementById('thead');
const tbody = document.getElementById('tbody');
const parallelSel = document.getElementById('parallel');

function currentDayIndex(){
  const active = daysEl.querySelector('.active');
  return +active.dataset.dayIndex;
}

/* Рендер заголовка таблицы (времена как столбцы) */
function renderHead(){
  const times = Array.from(new Set([
    ...TIMES_SHIFT1, ...TIMES_SHIFT2
  ])); // общий набор столбцов
  thead.innerHTML = '';
  const tr=document.createElement('tr');
  const thClass=document.createElement('th');
  thClass.textContent = 'Класс';
  tr.appendChild(thClass);
  times.forEach(t=>{
    const th=document.createElement('th'); th.textContent=t;
    tr.appendChild(th);
  });
  thead.appendChild(tr);
  return times;
}

/* Рендер строк по выбранной параллели */
function renderBody(){
  const dayIdx = currentDayIndex();
  const times = Array.from(new Set([...TIMES_SHIFT1, ...TIMES_SHIFT2]));
  tbody.innerHTML='';

  const filter = parallelSel.value; // 'all' или '5'..'11'
  const rows = GRADES.filter(g=>{
    if(filter==='all') return true;
    return g.startsWith(filter+' ');
  });

  rows.forEach(grade=>{
    const num = parseInt(grade,10);
    const shift1 = SHIFT1_GRADES.has(num);
    const row=document.createElement('tr');

    const tdClass=document.createElement('td');
    tdClass.textContent=grade;
    row.appendChild(tdClass);

    times.forEach((t,i)=>{
      const td=document.createElement('td');

      // клетка активна только если совпадает смена и индекс занятия 0..5
      const slot = i; // 0..5 для обеих смен
      const inShift1 = shift1 && TIMES_SHIFT1[slot]===t;
      const inShift2 = !shift1 && TIMES_SHIFT2[slot]===t;

      if(inShift1 || inShift2){
        const subj = pickSubject(grade, dayIdx, slot);
        const wrap=document.createElement('div');
        wrap.className = 'lesson ' + (shift1?'shift1':'shift2');

        const s=document.createElement('div'); s.className='subj'; s.textContent=subj;
        const r=document.createElement('div'); r.className='room'; r.textContent=roomFor(`${grade}-${subj}`);
        wrap.appendChild(s); wrap.appendChild(r);
        td.appendChild(wrap);
      }else{
        td.style.background='#181818';
      }

      row.appendChild(td);
    });

    tbody.appendChild(row);
  });
}

/* События */
daysEl.addEventListener('click',e=>{
  if(e.target.tagName!=='BUTTON') return;
  daysEl.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
  e.target.classList.add('active');
  renderBody();
});
parallelSel.addEventListener('change',renderBody);

/* Старт */
renderHead();
renderBody();
</script>
</body>
</html>
