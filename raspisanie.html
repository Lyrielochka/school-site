<!DOCTYPE html>
<html lang="ru" data-theme="emerald">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Расписание занятий — Урицкая средняя школа</title>

<!-- ШРИФТЫ -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Russo+One&display=swap" rel="stylesheet">

<style>
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  :root{ --radius:14px; --hero-img:url("assets/images/school.jpg"); }

  /* ===== ТЁМНАЯ (чёрно-золотая) ===== */
  :root[data-theme="dark"]{
    --bg:#121212; --bg-2:#1a1a1a; --bg-3:#1f1f1f;
    --fg:#eeeeee; --muted:#aaaaaa; --line:#2b2b2b;
    --accent:#f5c542;
    --accent-08: rgba(245,197,66,.08);
    --accent-12: rgba(245,197,66,.12);
    --accent-18: rgba(245,197,66,.18);
    --accent-28: rgba(245,197,66,.28);
    --shadow:0 10px 30px rgba(0,0,0,.6);
    --title-bright:#ffd766; --title-bright-2:#fff3b3;
  }

  /* ===== ОФИЦИАЛЬНАЯ (Emerald) ===== */
  :root[data-theme="emerald"]{
    --bg:#D9E8E1;
    --bg-2:#FFFFFF;
    --bg-3:#D3E3DB;
    --fg:#0E1C16;
    --muted:#50635A;
    --line:#C9DDD4;

    --accent:#1FA36D;
    --accent-2:#38D497;
    --accent-08: rgba(31,163,109,.08);
    --accent-12: rgba(31,163,109,.12);
    --accent-18: rgba(31,163,109,.18);
    --accent-28: rgba(31,163,109,.28);
    --shadow:0 18px 44px rgba(39,112,84,.2);

    --title-bright:#22e39c;
    --title-bright-2:#79f1c5;
  }

  body{
    font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    color:var(--fg); line-height:1.6; overflow-x:hidden; background: var(--bg);
  }

  /* ===== AURORA фон (emerald) + узор + шум ===== */
  .bg-canvas{position:fixed; inset:0; z-index:-3; pointer-events:none}
  :root[data-theme="emerald"] .bg-canvas::before,
  :root[data-theme="emerald"] .bg-canvas::after{
    content:""; position:absolute; inset:-20%; filter:blur(80px);
    background:
      radial-gradient(560px 420px at 16% 18%, rgba(31,163,109,.48), transparent 65%),
      radial-gradient(560px 380px at 84% 12%, rgba(87,207,153,.40), transparent 60%),
      radial-gradient(680px 460px at 20% 88%, rgba(105,196,157,.40), transparent 65%),
      radial-gradient(640px 440px at 88% 82%, rgba(26,133,90,.40), transparent 65%);
    opacity:.78; animation:drift 28s linear infinite;
  }
  :root[data-theme="emerald"] .bg-canvas::after{
    filter:blur(110px); opacity:.58; animation-direction:reverse;
  }
  @keyframes drift{ 0%{transform:translate3d(0,0,0)} 50%{transform:translate3d(2%,-1%,0)} 100%{transform:none} }

  .bg-pattern, .bg-noise{position:fixed; inset:0; z-index:-2; pointer-events:none}
  :root[data-theme="emerald"] .bg-pattern{
    opacity:.22;
    background-image:url('data:image/svg+xml;utf8,\
      <svg xmlns="http://www.w3.org/2000/svg" width="180" height="180" viewBox="0 0 180 180">\
        <g fill="none" stroke="%2333b184" stroke-opacity=".4" stroke-width="1.1">\
          <path d="M0 90 Q45 45 90 90 T180 90" />\
          <path d="M0 135 Q45 90 90 135 T180 135" />\
          <path d="M0 45 Q45 0 90 45 T180 45" />\
        </g>\
        <g fill="%2333b184" fill-opacity=".12">\
          <circle cx="30" cy="30" r="2"/><circle cx="150" cy="56" r="2"/><circle cx="120" cy="142" r="2"/>\
        </g>\
      </svg>');
    background-size:180px 180px;
  }
  .bg-noise{
    z-index:-1; opacity:.08;
    background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.35"/></svg>');
    mix-blend-mode:soft-light;
  }

  :root[data-theme="dark"] body{
    background:
      radial-gradient(1200px 600px at 60% -10%, #1a1a1a 0%, transparent 60%),
      radial-gradient(900px 300px at 8% 120%, #151515 0%, transparent 60%),
      radial-gradient(900px 300px at 92% 120%, #151515 0%, transparent 60%),
      #121212;
  }

  /* ========= HERO ========= */
  header.hero{
    position:relative; text-align:center; padding:136px 20px 120px;
    background:var(--bg) center/cover no-repeat;
    background-image:var(--hero-img);
    border-bottom:none;
  }
  :root[data-theme="emerald"] header.hero::after{
    content:""; position:absolute; inset:0;
    background:
      linear-gradient(180deg, rgba(0,0,0,.38), rgba(0,0,0,.56)),
      radial-gradient(900px 260px at 50% 86%, var(--accent-12), transparent 60%);
  }
  :root[data-theme="dark"] header.hero::after{
    content:""; position:absolute; inset:0;
    background:
      linear-gradient(180deg, rgba(0,0,0,.60), rgba(0,0,0,.85)),
      radial-gradient(900px 260px at 50% 86%, var(--accent-12), transparent 60%);
  }
  header.hero::before{
    content:""; position:absolute; left:50%; bottom:-1px; transform:translateX(-50%);
    width:min(840px,92vw); height:2px; border-radius:999px;
    background:linear-gradient(90deg, transparent, color-mix(in oklab, var(--accent) 85%, white 15%), transparent);
    box-shadow:0 0 14px color-mix(in oklab, var(--accent) 25%, transparent);
  }
  header .inner{position:relative; z-index:1; max-width:1100px; margin:0 auto}

  /* === ГЕРБ (PNG, без круга) === */
  .hero-logo{
    display:block;
    margin:0 auto 18px;
    width:399px; height:auto; image-rendering:auto;
  }
  @media (max-width:1024px){ .hero-logo{ width:280px } }
  @media (max-width:768px){ .hero-logo{ width:220px } }
  @media (max-width:480px){ .hero-logo{ width:160px } }
  @media (min-width:1024px){ .hero-logo{ width:72px } }
  @media (min-width:1440px){ .hero-logo{ width:240px } }

  .title{
    font-family:'Russo One', Inter, sans-serif;
    font-size:clamp(2.2rem,5.2vw,3.3rem);
    background:linear-gradient(180deg, var(--title-bright-2), var(--title-bright));
    -webkit-background-clip:text; background-clip:text; color:transparent;
    text-shadow:0 2px 0 rgba(0,0,0,.28), 0 0 26px color-mix(in oklab, var(--title-bright) 38%, transparent);
    letter-spacing:.4px;
  }
  .subtitle{
    margin-top:14px;
    font-family:'Russo One', Inter, sans-serif;
    font-weight:400; letter-spacing:.2px; font-size:clamp(1.05rem,2.1vw,1.3rem);
    color:color-mix(in oklab, var(--title-bright) 72%, #ffffff 28%);
    text-shadow:0 1px 0 rgba(0,0,0,.25), 0 0 20px color-mix(in oklab, var(--title-bright) 28%, transparent);
  }

  /* ========= переключатель темы ========= */
  .theme-toggle{
    position:fixed; right:16px; top:16px; z-index:60;
    display:inline-flex; align-items:center; gap:8px;
    padding:10px 14px; border-radius:999px; cursor:pointer; user-select:none;
    background:linear-gradient(180deg, var(--bg-2), color-mix(in oklab, var(--bg-2) 86%, #000 14%));
    color:var(--accent);
    border:1px solid color-mix(in oklab, var(--accent) 35%, var(--line));
    box-shadow:0 10px 24px rgba(0,0,0,.15), inset 0 0 0 1px rgba(255,255,255,.03);
    transition:.25s;
  }
  .theme-toggle .dot{ width:8px; height:8px; border-radius:50%; background:var(--accent); box-shadow:0 0 10px var(--accent-28) }

  /* ========= секции ========= */
  section{padding:64px 20px}
  .container{max-width:1100px;margin:0 auto}
  .section-title{
    display:block; text-align:center; margin:0 auto 26px;
    font-size:1.9rem; color:var(--accent); letter-spacing:.2px; position:relative; font-weight:800;
  }
  .section-title::before{
    content:""; position:absolute; left:50%; transform:translateX(-50%); top:-14px;
    width:72px; height:6px; border-radius:999px;
    background:linear-gradient(90deg, transparent, var(--accent-2), transparent);
  }
  .section-title::after{
    content:""; display:block; height:1px; width:min(680px,86vw); margin:12px auto 0;
    background:linear-gradient(90deg, transparent, color-mix(in oklab, var(--accent) 45%, white), transparent);
    border-radius:999px;
  }

  /* ========= блок управления расписанием ========= */
  .controls{display:flex; gap:14px; flex-wrap:wrap; align-items:center; justify-content:center; margin:6px 0 18px}
  .chip{
    display:inline-block; padding:10px 16px; border-radius:30px; font-weight:800; letter-spacing:.2px;
    color:var(--accent); border:1px solid color-mix(in oklab, var(--accent) 35%, var(--line));
    background:linear-gradient(180deg, var(--bg-2), color-mix(in oklab, var(--bg-2) 88%, #000 12%));
    box-shadow:inset 0 0 0 1px rgba(255,255,255,.03), 0 10px 24px rgba(0,0,0,.12);
    transition:.25s; cursor:pointer;
  }
  .chip.active{
    color:#0e1512; background:linear-gradient(180deg, var(--accent-2), var(--accent));
    box-shadow:0 10px 24px var(--accent-28), 0 0 0 1px color-mix(in oklab, var(--accent) 60%, #000) inset;
  }
  .select{
    appearance:none; background:linear-gradient(180deg, var(--bg-2), color-mix(in oklab, var(--bg-2) 88%, #000 12%));
    color:var(--fg); border:1px solid var(--line); border-radius:12px;
    padding:10px 44px 10px 12px; font-weight:700; letter-spacing:.2px; box-shadow:var(--shadow)
  }
  .select-wrap{position:relative}
  .select-wrap:after{content:"▾"; position:absolute; right:12px; top:50%; transform:translateY(-50%); color:var(--accent)}

  /* ========= дни недели ========= */
  .days{display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin:8px 0 14px}
  .day{
    position:relative; padding:10px 16px; border-radius:999px; cursor:pointer; font-weight:800;
    letter-spacing:.2px; text-transform:lowercase;
    background:linear-gradient(180deg, var(--bg-2), color-mix(in oklab, var(--bg-2) 90%, #000 10%));
    border:1px solid var(--line); color:color-mix(in oklab, var(--fg) 80%, #000 20%);
    transition:transform .15s ease, box-shadow .2s, border-color .2s, color .2s;
    box-shadow:0 6px 18px rgba(0,0,0,.08);
  }
  .day:hover{transform:translateY(-1px)}
  .day.active{
    color:#0e1512; border-color:color-mix(in oklab, var(--accent) 35%, var(--line));
    background:linear-gradient(180deg, var(--accent-2), var(--accent));
    box-shadow:0 6px 18px var(--accent-18), 0 0 18px var(--accent-12);
  }

  /* ========= таблица ========= */
  .table{
    width:100%; border-collapse:separate; border-spacing:0;
    background:linear-gradient(180deg, var(--bg-2), color-mix(in oklab, var(--bg-2) 88%, #000 12%));
    border:1px solid var(--line); border-radius:var(--radius);
    overflow:hidden; box-shadow:var(--shadow);
  }
  .table th,.table td{padding:16px 14px; border-bottom:1px solid var(--line); vertical-align:top}
  .table th{
    background:color-mix(in oklab, var(--bg-3) 92%, #000 8%);
    color:var(--muted); text-transform:uppercase; font-size:12px; letter-spacing:.65px;
  }
  .table tr:last-child td{border-bottom:0}
  .time{color:color-mix(in oklab, var(--fg) 75%, #000 25%)}

  /* предмет + тултип */
  .subj{font-weight:800; color:var(--accent); position:relative; display:inline-block; outline:none}
  .subj[data-room]:after{
    content:""; display:inline-block; width:6px; height:6px; border-radius:50%;
    background:var(--accent); margin-left:8px; transform:translateY(-2px)
  }
  .tooltip{
    position:absolute; left:0; bottom:calc(100% + 10px);
    background:color-mix(in oklab, var(--bg-2) 80%, #000 20%); color:var(--fg);
    border:1px solid color-mix(in oklab, var(--accent) 25%, var(--line));
    padding:8px 10px; font-size:13px; border-radius:8px;
    box-shadow:0 12px 24px rgba(0,0,0,.12);
    white-space:nowrap; opacity:0; pointer-events:none; transform:translateY(6px); transition:.16s ease;
  }
  .subj:focus .tooltip, .subj.tip-on .tooltip{ opacity:1; transform:translateY(0) }
  @media (hover:none) and (pointer:coarse){ .tooltip{ top:calc(100% + 8px); bottom:auto } }

  tbody tr{opacity:0; transform:translateY(6px); animation:rowIn .35s ease forwards}
  @keyframes rowIn{to{opacity:1; transform:none}}

  /* ========= футер ========= */
  footer{
    background:linear-gradient(180deg, #FFFFFF, var(--bg));
    color:color-mix(in oklab, var(--fg) 70%, #000);
    text-align:center; padding:32px 20px 36px; position:relative;
    border-top:1px solid var(--line);
  }
  :root[data-theme="dark"] footer{
    background:linear-gradient(180deg,#0f0f0f,#0b0b0b);
    color:#8a8aa; border-top:1px solid rgba(245,197,66,.25);
  }
  footer::before{
    content:""; position:absolute; left:50%; transform:translateX(-50%); top:0;
    width:min(740px,92vw); height:1px; background:linear-gradient(90deg,transparent,color-mix(in oklab, var(--accent) 55%, white),transparent);
  }
  footer a{color:var(--accent);text-decoration:none}
  footer a:hover{text-decoration:underline}
  .credit img{ border-radius:12px; transition:.25s }
  .credit:hover img{ filter: drop-shadow(0 0 10px var(--accent-28)) }

  /* ========= плавные появления ========= */
  .fade{opacity:0;transform:translateY(36px);transition:all .8s ease}
  .fade.show{opacity:1;transform:translateY(0)}
  /* ==== FIX: контраст активных элементов в ТЁМНОЙ теме ==== */
:root[data-theme="dark"] .chip,
:root[data-theme="dark"] .day{
  color: #d9d9df;
  border-color: #2f2f2f;
  background: linear-gradient(180deg,#181818,#121212);
}

:root[data-theme="dark"] .chip.active,
:root[data-theme="dark"] .day.active{
  /* более светлое «золото» и тёмный читаемый текст */
  background: linear-gradient(180deg, #ffd86a, #f5c542);
  color: #111;                /* текст не чёрный, но очень тёмный для контраста */
  text-shadow: none;
  border-color: rgba(245,197,66,.6);
  box-shadow: 0 10px 24px rgba(245,197,66,.22),
              0 0 0 1px rgba(245,197,66,.35) inset;
}

/* неактивные табы дней чуть светлее, чтобы было видно подписи */
:root[data-theme="dark"] .day{
  color: #c9c9cf;
  border-color: #2b2b2b;
}

/* время и «подсказки» в тёмной теме — чуть светлее */
:root[data-theme="dark"] .time{ color:#d0d0d6 }
:root[data-theme="dark"] .tooltip{
  background: #121212;
  color: #eee;
  border-color: rgba(245,197,66,.35);
  box-shadow: 0 12px 24px rgba(0,0,0,.6);
}

/* ==== SIMPLIFY: заголовок сайта попроще (Inter вместо Russo One) ==== */
/* Можно не убирать Russo One из <link>, но мы его больше не используем */
.title{
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif !important;
  font-weight: 900;
  letter-spacing: .2px;
  /* оставляем лёгкий градиент текста, но без агрессивного свечения */
  background: linear-gradient(180deg, var(--title-bright-2), var(--title-bright));
  -webkit-background-clip: text; background-clip: text; color: transparent;
  text-shadow: 0 1px 0 rgba(0,0,0,.18), 0 0 18px color-mix(in oklab, var(--title-bright) 20%, transparent);
  font-size: clamp(2.1rem, 5vw, 3.1rem);  /* чуть спокойнее размер */
}
/* ==== КНОПКА НАЗАД (единый стиль, обе темы) ==== */
.back{
  position:fixed; left:16px; bottom:18px; z-index:60;
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 14px; border-radius:999px; font-weight:800; letter-spacing:.2px;
  cursor:pointer; user-select:none; text-decoration:none;
  color:var(--accent);
  background: linear-gradient(180deg, var(--bg-2), color-mix(in oklab, var(--bg-2) 86%, #000 14%));
  border:1px solid color-mix(in oklab, var(--accent) 35%, var(--line));
  box-shadow:0 12px 28px rgba(0,0,0,.15), inset 0 0 0 1px rgba(255,255,255,.03);
  transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
}
.back:hover{ transform:translateY(-2px);
  border-color:var(--accent-28);
  box-shadow:0 18px 40px rgba(0,0,0,.2), 0 0 0 1px color-mix(in oklab, var(--accent) 22%, #000) inset;
}
.back:active{ transform:translateY(0) }
.back .icon{ font-size:16px; line-height:1 }

:root[data-theme="dark"] .back{
  background: linear-gradient(180deg,#181818,#0f0f10);
  color:var(--accent);
  border-color:#2b2b2b;
  box-shadow:0 12px 28px rgba(0,0,0,.55);
}
:root[data-theme="dark"] .back:hover{
  border-color:var(--accent-28);
  box-shadow:0 16px 36px rgba(0,0,0,.7);
}

@media (max-width:520px){
  .back{ left:12px; bottom:12px; padding:10px 12px }
}

</style>
</head>
<body>

  <!-- AURORA фон -->
  <div class="bg-canvas"></div>
  <div class="bg-pattern"></div>
  <div class="bg-noise"></div>

  <!-- ПЕРЕКЛЮЧАТЕЛЬ ТЕМЫ -->
  <button id="themeToggle" class="theme-toggle" aria-pressed="false" title="Переключить тему">
    <span class="dot" aria-hidden="true"></span><span id="themeLabel">Официальная тема</span>
  </button>

  <!-- HERO -->
  <header class="hero">
    <div class="inner fade">
      <img class="hero-logo" src="assets/images/gerb.png" alt="Герб Республики Беларусь">
      <h1 class="title">Расписание занятий</h1>
      <p class="subtitle">Наведите на предмет — увидите кабинет. На телефонах — тап по предмету.</p>
    </div>
  </header>

  <!-- БЛОК РАСПИСАНИЯ -->
  <section>
    <div class="container">
      <h2 class="section-title fade">Выбор класса и дня</h2>

      <div class="controls fade">
        <div id="shiftSeg" aria-label="Смена">
          <button class="chip" data-shift="1" type="button">1&nbsp;смена</button>
          <button class="chip" data-shift="2" type="button">2&nbsp;смена</button>
        </div>
        <div class="select-wrap">
          <select id="classSelect" class="select" title="Класс" aria-label="Класс"></select>
        </div>
      </div>

      <div class="days fade" id="days" aria-label="Дни недели"></div>

      <table class="table fade" aria-label="Таблица расписания">
        <thead>
          <tr><th style="width:160px">Время</th><th>Предмет</th></tr>
        </thead>
        <tbody id="tbody"></tbody>
      </table>
    </div>
  </section>

  <!-- ФУТЕР -->
  <footer id="contacts">
    <p class="credit">
      <a href="https://reklama322228.netlify.app/" target="_blank" rel="noopener">
        <img src="assets/icons/logo 4.png" alt="ЕТ" width="80" height="80" style="vertical-align:-3px;margin-right:6px;">
      </a>
    </p>
    <p>
      Адрес: Тенистая ул., 10, агрогородок Урицкое · 
      Тел.: <a href="tel:+375232985102">+375 23 298-51-02</a>
    </p>
  </footer>
<button class="back" type="button" onclick="history.back()" title="Назад" aria-label="Назад">
  <span class="icon" aria-hidden="true">←</span> Назад
</button>

<script>
/* ====== ТЕМА: загрузка/переключение/сохранение (как на index) ====== */
(function(){
  const el = document.documentElement;
  const btn = document.getElementById('themeToggle');
  const label = document.getElementById('themeLabel');
  const KEY = 'site-theme';
  const saved = localStorage.getItem(KEY);
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  const initial = saved || (prefersDark ? 'dark' : 'emerald');
  el.setAttribute('data-theme', initial);
  updateBtn(initial);

  btn.addEventListener('click', ()=>{
    const curr = el.getAttribute('data-theme');
    const next = (curr === 'dark') ? 'emerald' : 'dark';
    el.setAttribute('data-theme', next);
    localStorage.setItem(KEY, next);
    updateBtn(next);
  });
  function updateBtn(theme){
    label.textContent = theme === 'dark' ? 'Тёмная тема' : 'Официальная тема';
    btn.setAttribute('aria-pressed', theme !== 'dark');
  }
})();

/* плавные появления секций */
const fades = document.querySelectorAll('.fade');
const io = new IntersectionObserver(es => {
  es.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('show'); });
}, {threshold:.2});
fades.forEach(n=>io.observe(n));

/* ================== ДАННЫЕ (как в твоём файле) ================== */
const data = {
  "5А":{shift:1,days:{
    "пон.":[{title:"Математика",room:"26"},{title:"Белорусский язык",room:"38"},{title:"История",room:"14"},{title:"Белорусская литература",room:"38"},{title:"Физическая культура и здоровье"}],
    "вт.":[{title:"Человек и мир",room:"26"},{title:"Математика",room:"26"},{title:"Иностранный язык"},{title:"Русский язык",room:"25"},{title:"Русская литература",room:"15"}],
    "ср.":[{title:"Белорусская литература",room:"38"},{title:"Белорусский язык",room:"38"},{title:"Физическая культура и здоровье"},{title:"Математика",room:"26"},{title:"Иностранный язык"}],
    "чт.":[{title:"Русская литература",room:"18"},{title:"Русский язык",room:"18"},{title:"Трудовое обучение",room:"19/17"},{title:"Математика",room:"26"},{title:"История",room:"14"},{title:"Искусство",room:"32"}],
    "пт.":[{title:"ОБЖ",room:"32"},{title:"Русский язык",room:"36"},{title:"Иностранный язык"},{title:"Белорусский язык"},{title:"Математика",room:"26"},{title:"Физическая культура и здоровье"}],
    "сб.":[]
  }},
  "5Б":{shift:1,days:{
    "пон.":[{title:"Математика",room:"25"},{title:"История",room:"31"},{title:"Белорусский язык",room:"38"},{title:"Физическая культура и здоровье"},{title:"Белорусская литература",room:"38"}],
    "вт.":[{title:"Русская литература",room:"15"},{title:"Русский язык",room:"15"},{title:"Математика",room:"25"},{title:"Иностранный язык"},{title:"Человек и мир",room:"12"}],
    "ср.":[{title:"Иностранный язык"},{title:"Физическая культура и здоровье"},{title:"Математика",room:"25"},{title:"Белорусскй язык",room:"38"},{title:"Белорусская литература",room:"38"}],
    "чт.":[{title:"Русская литература",room:"15"},{title:"Русский язык",room:"15"},{title:"Искусство",room:"32"},{title:"Математика",room:"24"},{title:"Трудовое обучение",room:"19/17"},{title:"История",room:"16"}],
    "пт.":[{title:"Русский язык",room:"15"},{title:"Математика",room:"25"},{title:"Белорусский язык",room:"26"},{title:"Физическая культура и здоровье"},{title:"Иностранный язык"},{title:"ОБЖ",room:"32"}],
    "сб.":[]
  }},
  "5В":{shift:1,days:{
    "пон.":[{title:"Физическая культура и здоровье"},{title:"История",room:"14"},{title:"Русский язык",room:"15"},{title:"Русская литература",room:"15"},{title:"Математика",room:"26"}],
    "вт.":[{title:"Белорусская литература",room:"36"},{title:"Белорусский язык",room:"36"},{title:"Математика",room:"26"},{title:"Человек и мир",room:"32"},{title:"Иностранный язык"}],
    "ср.":[{title:"Русския литература",room:"16"},{title:"Русский язык",room:"16"},{title:"Математика",room:"26"},{title:"Иностранный язык"},{title:"Физическая культура и здоровье"}],
    "чт.":[{title:"Искусство",room:"32"},{title:"История",room:"14"},{title:"Математика",room:"26"},{title:"Трудовое обучиние",room:"19/17"},{title:"Белорусский язык",room:"36"},{title:"Белорусская литература",room:"36"}],
    "пт.":[{title:"Русский язык",room:"14"},{title:"Иностранный язык"},{title:"Математика",room:"26"},{title:"Физическая культура и здоровье"},{title:"ОБЖ",room:"32"},{title:"Белорусский язык",room:"36"}],
    "сб.":[]
  }},
  "5Г":{shift:1,days:{
    "пон.":[{title:"История",room:"14"},{title:"Физическая культура и здоровье"},{title:"Математика",room:"26"},{title:"Русский язык",room:"15"},{title:"Русская литература",room:"15"}],
    "вт.":[{title:"Человек и мир",room:"32"},{title:"Белорусский язык",room:"38"},{title:"Белорусская литература",room:"38"},{title:"Математика",room:"26"},{title:"Иностранный язык"}],
    "ср.":[{title:"Физическая культура и здоровье"},{title:"Иностранный язык"},{title:"Белорусская литература",room:"38"},{title:"Белорусский язык",room:"24"},{title:"Математика",room:"26"}],
    "чт.":[{title:"История",room:"14"},{title:"Искусство",room:"32"},{title:"Русский язык",room:"36"},{title:"Русская литература",room:"35"},{title:"Математика",room:"26"},{title:"Трудовое обучение",room:"19/17"}],
    "пт.":[{title:"Русский язык",room:"36"},{title:"Иностранный язык"},{title:"Белорусский язык",room:"36"},{title:"Математика",room:"26"},{title:"Физическая культура и здоровье"},{title:"ОБЖ",room:"11"}],
    "сб.":[]
  }},
  "6А":{shift:2,days:{
    "пон.":[{title:"Математика",room:"25"},{title:"Иностранный язык"},{title:"Русская литература",room:"35"},{title:"Русский язык",room:"35"},{title:"География",room:"32"},{title:"Физическая культура и здоровье"}],
    "вт.":[{title:"Искусство"},{title:"Историия Беларуси",room:"31"},{title:"Математика",room:"25"},{title:"Белорусский язык",room:"36"},{title:"Иностранный язык"},{title:"Белорусская литература",room:"36"}],
    "ср.":[{title:"Биология",room:"12"},{title:"Математика",room:"24"},{title:"Трудовое обучение",room:"16/17"},{title:"Трудовое обучение",room:"16/17"},{title:"Русский язык",room:"35"},{title:"Русская литература",room:"35"}],
    "чт.":[{title:"Информатика"},{title:"Математика",room:"25"},{title:"Физическая культура и здоровье"},{title:"Белорусский язык",room:"35"},{title:"Белорусская литература",room:"35"},{title:"Иностранный язык"}],
    "пт.":[{title:"Физическая культура и здоровье"},{title:"Русский язык",room:"35"},{title:"Математика",room:"24"},{title:"Белорусский язык",room:"36"},{title:"Всемирная история",room:"31"}],
    "сб.":[]
  }},
  "6Б":{shift:2,days:{
    "пон.":[{title:"Иностранный язык"},{title:"Математика",room:"26"},{title:"Физическая культура и здоровье"},{title:"География",room:"32"},{title:"Белорусский язык",room:"36"},{title:"Белорусская литература"}],
    "вт.":[{title:"Русская литература",room:"15"},{title:"Русский язык",room:"15"},{title:"Математика",room:"26"},{title:"Иностранный язык"},{title:"Трудовое обучение",room:"16/17"},{title:"Трудовое обучение",room:"16/17"}],
    "ср.":[{title:"Белорусская литература",room:"38"},{title:"Белорусский язык",room:"38"},{title:"История Беларуси",room:"14"},{title:"Физическая культура и здоровье"},{title:"Биология",room:"12"},{title:"Искусство",room:"22"}],
    "чт.":[{title:"Искуство",room:"22"},{title:"Математика",room:"26"},{title:"Информатика"},{title:"Иностраный язык"},{title:"Русский язык",room:"15"},{title:"Русская литература",room:"15"}],
    "пт.":[{title:"Русский язык",room:"14"},{title:"Всемирная история",room:"14"},{title:"Белорусский язык",room:"36"},{title:"Математика",room:"26"},{title:"Физическая культура и здоровье"}],
    "сб.":[]
  }}
};

/* время пар по сменам */
const timeSlots={1:["08:00–08:45","08:55–09:40","09:55–10:40","10:55–11:40","11:50–12:35","12:45–13:30"],
                 2:["13:50–14:35","14:50–15:35","15:50–16:35","16:45–17:30","17:40–18:25","18:35–19:20"]};
const dayOrder=["пон.","вт.","ср.","чт.","пт.","сб."];

/* элементы */
const tbody=document.getElementById('tbody');
const daysEl=document.getElementById('days');
const classSelect=document.getElementById('classSelect');
const shiftSeg=document.getElementById('shiftSeg');

/* состояние */
let state={shift:1, day:"пон.", klass:"5А"};

/* наполнение селекта классами */
Object.keys(data).forEach(k=>{
  const o=document.createElement('option'); o.value=k; o.textContent=k; classSelect.appendChild(o);
});
state.klass=classSelect.value=Object.keys(data)[0];

/* рисуем кнопки дней */
function renderDayTabs(){
  daysEl.innerHTML="";
  dayOrder.forEach(d=>{
    const b=document.createElement('button');
    b.className='day'+(d===state.day?' active':'' );
    b.textContent=d;
    b.type='button';
    b.onclick=()=>{state.day=d; renderTable(); highlightDay()};
    daysEl.appendChild(b);
  });
}
function highlightDay(){
  [...daysEl.children].forEach(btn=>btn.classList.toggle('active', btn.textContent===state.day));
}

/* тултипы: вкл/выкл на мобилке по тапу/клавиатуре */
function toggleTooltip(el){
  document.querySelectorAll('.subj.tip-on').forEach(s=>{
    if(s!==el){ s.classList.remove('tip-on'); s.setAttribute('aria-expanded','false'); }
  });
  const on=el.classList.toggle('tip-on');
  el.setAttribute('aria-expanded', on ? 'true' : 'false');
}
/* закрытие по тапу мимо */
document.addEventListener('click', (e)=>{
  if(!e.target.closest('.subj')){
    document.querySelectorAll('.subj.tip-on').forEach(s=>{
      s.classList.remove('tip-on'); s.setAttribute('aria-expanded','false');
    });
  }
}, true);

/* таблица */
function renderTable(){
  const cls=data[state.klass];
  const items=cls?.days?.[state.day]??[];
  const times=timeSlots[state.shift];
  tbody.innerHTML="";
  const rows=Math.max(items.length,times.length);
  for(let i=0;i<rows;i++){
    const tr=document.createElement('tr');

    const tdT=document.createElement('td'); tdT.className='time'; tdT.textContent=times[i]||""; tr.appendChild(tdT);

    const tdS=document.createElement('td');
    const lesson=items[i];
    if(lesson){
      const wrap=document.createElement('span');
      wrap.className='subj';
      wrap.textContent=lesson.title;
      wrap.tabIndex=0;                    // чтобы работал :focus
      wrap.setAttribute('role','button');
      wrap.setAttribute('aria-expanded','false');
      wrap.addEventListener('click', ()=>toggleTooltip(wrap));
      wrap.addEventListener('keydown', (e)=>{
        if(e.key==='Enter' || e.key===' '){ e.preventDefault(); toggleTooltip(wrap); }
      });

      if(lesson.room){
        wrap.setAttribute('data-room',lesson.room);
        const tip=document.createElement('span');
        tip.className='tooltip';
        tip.textContent="Кабинет: "+lesson.room;
        wrap.appendChild(tip);
      }
      tdS.appendChild(wrap);
    }
    tr.appendChild(tdS);
    tbody.appendChild(tr);
  }
}

/* общий рендер */
function render(){
  // фиксируем смену по классу
  const classShift=data[state.klass]?.shift||1; state.shift=classShift;

  // визуал для смен
  [...shiftSeg.querySelectorAll('.chip')].forEach(b=>{
    const on=Number(b.dataset.shift)===state.shift;
    b.classList.toggle('active', on);
    b.disabled=!on; b.style.opacity=on?1:.5;
  });

  renderDayTabs();
  renderTable();
}

/* события */
classSelect.addEventListener('change', e=>{state.klass=e.target.value; render()});
shiftSeg.addEventListener('click', e=>{
  const btn=e.target.closest('[data-shift]'); if(!btn) return;
  // смена привязана к классу (кнопки только отображают актуальную)
});
window.addEventListener('keydown', e=>{
  if(e.key==='['||e.key===']'){
    const i=dayOrder.indexOf(state.day);
    state.day=dayOrder[(i+(e.key===']'?1:-1)+dayOrder.length)%dayOrder.length];
    highlightDay(); renderTable();
  }
});

/* старт: текущий будний; если вс — понедельник */
(function initDay(){
  const map={1:"пон.",2:"вт.",3:"ср.",4:"чт.",5:"пт.",6:"сб."};
  const d=(new Date()).getDay(); state.day=map[d]||"пон.";
})();
render();
</script>
</body>
</html>
