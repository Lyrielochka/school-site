<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Урицкая средняя школа</title>
<style>
  /* ========= базовые стили ========= */
  *{box-sizing:border-box;margin:0;padding:0}
  :root{
    --bg:#121212;--bg-2:#1a1a1a;--bg-3:#1f1f1f;
    --fg:#eeeeee;--muted:#aaaaaa;--line:#2b2b2b;
    --accent:#f5c542;--shadow:0 10px 30px rgba(0,0,0,.6);
  }
  body{font-family:Segoe UI,Arial,sans-serif;background:var(--bg);color:var(--fg);line-height:1.6;overflow-x:hidden}

  /* ========= hero ========= */
  header.hero{
    position:relative;text-align:center;padding:140px 20px;
    background:url("assets/images/school.jpg") center/cover no-repeat;
  }
  header.hero::after{content:"";position:absolute;inset:0;background:rgba(0,0,0,.7)}
  header .inner{position:relative;z-index:1;max-width:1100px;margin:0 auto}
  .title{font-size:clamp(2rem,5vw,3.2rem);color:var(--accent);text-shadow:0 0 18px rgba(245,197,66,.8)}
  .subtitle{margin-top:14px;color:#ddd;font-size:1.1rem}
  .topnav{margin-top:28px;display:flex;gap:14px;justify-content:center;flex-wrap:wrap}
  .topnav a{
    display:inline-block;padding:10px 18px;border-radius:30px;border:2px solid var(--accent);
    color:var(--accent);text-decoration:none;font-weight:600;transition:.25s
  }
  .topnav a:hover{background:var(--accent);color:#121212}

  /* ========= секции ========= */
  section{padding:64px 20px}
  .container{max-width:1100px;margin:0 auto}
  .section-title{font-size:1.9rem;color:var(--accent);text-align:center;margin-bottom:24px}

  /* карточная сетка */
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:18px}
  .card{
    position:relative;
    background:var(--bg-3);border:1px solid var(--line);border-radius:14px;padding:22px;
    box-shadow:var(--shadow);transition:transform .25s,background .25s;overflow:hidden;
    text-align:center;
  }
  .card:hover{transform:translateY(-6px);background:#262626}
  .card h3{color:var(--accent);margin-bottom:8px}

  /* подменю: раскрывается вниз, без обрезания */
.submenu-card{
  margin-top:10px;
  background:#171717;
  border-top:1px solid #333;
  padding:10px 12px;

  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(160px, 1fr));
  gap:10px;

  max-height:0;          /* спрятано */
  opacity:0;
  overflow:hidden;
  transition:max-height .35s ease, opacity .35s ease;
}

/* показываем при наведении и при .open (мобилки) */
.card:hover .submenu-card,
.card.open .submenu-card{
  max-height:1000px;     /* достаточно большое значение, чтобы влез весь список */
  opacity:1;
}

.submenu-card a{
  color:var(--accent);
  text-decoration:none;
  font-size:.92rem;
  padding:6px 10px;
  border-radius:8px;
  border:1px solid transparent;
  white-space:nowrap;
}
.submenu-card a:hover{ background:#2b2b2b; border-color:#3a3a3a; }


  /* события */
  .event{background:var(--bg-2);border:1px solid var(--line);border-radius:12px;padding:18px;transition:background .25s}
  .event:hover{background:#262626}
  .event small{display:block;color:var(--muted);margin:.15rem 0 .5rem}

  /* о школе */
  .about-list{list-style:none;max-width:680px;margin:0 auto;border:1px solid var(--line);border-radius:12px;overflow:hidden}
  .about-list li{display:flex;gap:12px;justify-content:space-between;padding:14px 16px;background:var(--bg-3)}
  .about-list li:not(:last-child){border-bottom:1px solid var(--line)}
  .about-list b{color:#ddd}

  /* футер */
  footer{background:#0d0d0d;color:#8a8a8a;text-align:center;padding:28px 20px}
  footer a{color:var(--accent);text-decoration:none}
  footer a:hover{text-decoration:underline}

  /* ========= плавные появления ========= */
  .fade{opacity:0;transform:translateY(36px);transition:all .8s ease}
  .fade.show{opacity:1;transform:translateY(0)}

  /* ========= плавающая панель с кнопками ========= */
  .dock{position:fixed;right:22px;bottom:22px;display:flex;flex-direction:column;gap:14px;z-index:50}
  .dock .group{position:relative}
  .fab, .sub{
    display:grid;place-items:center;cursor:pointer;border:none;
    width:58px;height:58px;border-radius:50%;background:var(--bg-3);
    color:var(--accent);outline:none;box-shadow:var(--shadow);border:1px solid var(--line);
    transition:transform .2s,background .2s,opacity .2s
  }
  .fab:hover{transform:translateY(-2px);background:#2a2a2a}
  .fab span{font-size:24px;line-height:1}

  /* submenu для док-панели — влево */
  .submenu-fab{
    position:absolute;right:70px;bottom:0;display:flex;gap:10px;pointer-events:none;
    opacity:0;transform:translateX(10px);transition:.2s
  }
  .sub{width:46px;height:46px;font-size:18px}
  .label{
    position:absolute;right:70px;bottom:8px;background:#000000b3;color:#fff;
    padding:6px 10px;border-radius:10px;font-size:.85rem;border:1px solid #222;opacity:0;transform:translateX(10px);
    pointer-events:none;white-space:nowrap;transition:.2s
  }
  .group:hover .submenu-fab, .group:hover .label{opacity:1;transform:translateX(0);pointer-events:auto}
  .group.open .submenu-fab, .group.open .label{opacity:1;transform:translateX(0);pointer-events:auto}

  @media (max-width:520px){
    .fab{width:56px;height:56px}
    .submenu-fab{right:64px}
    .label{display:none}
  }
  .credit img {
  filter: drop-shadow(0 0 0 rgba(245,197,66,0));
  transition: .25s;
}
.credit:hover img {
  filter: drop-shadow(0 0 8px rgba(245,197,66,.45));
}
</style>
</head>
<body>

  <!-- HERO -->
  <header class="hero">
    
    <div class="inner fade">
      <h1 class="title">Вот это мне заняться нечем</h1>
      <p class="subtitle">Тут работы года на 4.</p>
      <nav class="topnav">
  <a href="news.html">События</a>
  <a href="#about">О школе</a>
  <a href="#contacts">Контакты</a>
</nav>

    </div>
  </header>

  <!-- БЫСТРЫЕ КАРТОЧКИ -->
  <section>
    <div class="container">
      <h2 class="section-title fade">Быстрый доступ</h2>
      <div class="grid fade">

        <article class="card">
  <h3>События</h3>
  <p>Будьте в курсе школьной жизни: олимпиады, праздники, конкурсы.</p>
  <p style="margin-top:8px"><a href="news.html" style="color:var(--accent);text-decoration:none">Открыть →</a></p>
</article>


        <article class="card">
          <h3>Расписание</h3>
          <p>Актуальные уроки и звонки.</p>
           <p style="margin-top:8px"><a href="raspisanie.html" style="color:var(--accent);text-decoration:none">Открыть →</a></p>
        </article>

        <article class="card">
          <h3>Учителя</h3>
          <p>Команда профессионалов и классных руководителей.</p>
          <p style="margin-top:8px"><a href="teacher.html" style="color:var(--accent);text-decoration:none">Открыть →</a></p>
        </article>

        <article class="card">
          <h3>График работы администрации</h3>
          <p>Часы приёма директора и заместителей.</p>
          <p style="margin-top:8px"><a href="admin-schedule.html" style="color:var(--accent);text-decoration:none">Открыть →</a></p>
        </article>

        <!-- Карточка с большим подменю -->
        <article class="card">
          <h3>Для законных представителей</h3>
          <p>Важные материалы и сервисы.</p>
          <div class="submenu-card">
            <a href="dress-code.html">Деловой стиль одежды</a>
            <a href="gpd.html">ГПД</a>
            <a href="open-reception.html">Открытая приёмная</a>
            <a href="recommendations.html">Рекомендации законным представителям</a>
            <a href="parent-meetings.html">Родительские собрания</a>
            <a href="belgosstrakh.html">Белгострах напоминает</a>
            <a href="future-firstgraders.html">Школа будущих первоклассников</a>
          </div>
        </article>
 <!-- Карточка с большим подменю -->
        <article class="card">
          <h3>Для обучающихся</h3>
          <p>Важная информация.</p>
          <div class="submenu-card">
            <a href="dress-code.html">Деловой стиль одежды</a>
            <a href="gpd.html">Требования к дневникам</a>
            <a href="open-reception.html">Профильное обучение</a>
            <a href="recommendations.html">Олимпиады</a>
            <a href="parent-meetings.html">Добавим потом</a>
            <a href="belgosstrakh.html">ПОтом добавим</a>
            <a href="future-firstgraders.html">Еще позже</a>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- СОБЫТИЯ -->
 <section id="events">
  <div class="container">
    <h2 class="section-title fade">Последние события</h2>

    <!-- карточки новостей -->
    <div id="latest-news" class="grid fade"></div>

    <!-- кнопка "Показать все" в стиле сайта -->
    <p style="text-align:center;margin-top:14px">
      <a href="news.html" style="display:inline-block;padding:10px 16px;border:1px solid var(--line);border-radius:10px;background:#1b1b1b;color:var(--fg);text-decoration:none">
        Показать все события →
      </a>
    </p>

    <p id="latest-error" style="color:#aaa;display:none;margin-top:8px">Не удалось загрузить новости.</p>
  </div>
</section>


  <!-- О ШКОЛЕ -->
  <section id="about">
    <div class="container">
      <h2 class="section-title fade">О школе</h2>
      <ul class="about-list fade">
        <li><span>Адрес</span><b>Тенистая ул., 10, агрогородок Урицкое</b></li>
        <li><span>Телефон</span><b><a href="tel:+375232985102" style="color:var(--accent);text-decoration:none">+375 23 298-51-02</a></b></li>
        <li><span>Учащиеся</span><b>900+ школьников</b></li>
        <li><span>Подход</span><b>Традиции + современные практики</b></li>
      </ul>
    </div>
  </section>

<!-- ФУТЕР -->
<footer id="contacts">
  <p class="credit">
    <a href="https://reklama322228.netlify.app/" target="_blank" rel="noopener">
      <img src="assets/icons/logo 4.png" alt="ЕТ" width="80" height="80" 
           style="vertical-align:-3px;margin-right:6px;">
    </a>
  </p>
  <p>
    Адрес: Тенистая ул., 10, агрогородок Урицкое · 
    Тел.: <a href="tel:+375232985102">+375 23 298-51-02</a>
  </p>
</footer>

<!-- ========= ПАНЕЛЬ С СОЦСЕТЯМИ ========= -->
<div class="dock" aria-label="Соцсети">
  <!-- Telegram -->
  <div class="group">
    <a class="fab" href="https://t.me/uritskoe_school" target="_blank" aria-label="Telegram">
      <!-- SVG иконка Telegram --> 
      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="26" height="26">
        <path d="M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm3.5 6.56-8.06 3.18c-.55.22-.55.53-.1.66l2.06.65 4.77-3c.22-.15.43-.07.26.1l-3.86 3.65-.14 2.06c.2 0 .29-.09.4-.2l.98-.94 2.03 1.5c.38.2.65.1.74-.35l1.35-6.55c.12-.6-.23-.87-.73-.66z"/>
      </svg>
    </a>
    <div class="label">Telegram</div>
  </div>

  <!-- Instagram -->
  <div class="group">
    <a class="fab" href="https://www.instagram.com/uritskaya_schkola/" target="_blank" aria-label="Instagram">
      <!-- SVG иконка Instagram -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" width="26" height="26">
        <path d="M7 2C4.24 2 2 4.24 2 7v10c0 2.76 2.24 5 5 5h10c2.76 0 5-2.24 5-5V7c0-2.76-2.24-5-5-5H7zm10 2c1.66 0 3 1.34 3 3v10c0 1.66-1.34 3-3 3H7c-1.66 0-3-1.34-3-3V7c0-1.66 1.34-3 3-3h10zm-5 3a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 2a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm4.5-.75a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5z"/>
      </svg>
    </a>
    <div class="label">Instagram</div>
  </div>
</div>

<script>
  // плавные появления секций
  const fades = document.querySelectorAll('.fade');
  const io = new IntersectionObserver(es => {
    es.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('show'); });
  }, {threshold:.2});
  fades.forEach(n=>io.observe(n));

  // поддержка тач-устройств для док-панели
  const groups = document.querySelectorAll('.group[data-mobile-toggle]');
  groups.forEach(g=>{
    const fab = g.querySelector('.fab');
    fab.addEventListener('click', (ev)=>{
      g.classList.toggle('open');
      ev.preventDefault();
    });
    document.addEventListener('click', (e)=>{
      if(!g.contains(e.target)) g.classList.remove('open');
    });
  });

  // раскрытие карточек по тапу (мобилки): чтобы подменю .submenu-card работало без hover
  document.querySelectorAll('.card').forEach(card=>{
    card.addEventListener('click', (e)=>{
      if(e.target.tagName.toLowerCase()==='a') return; // переходам не мешаем
      card.classList.toggle('open');
    });
    document.addEventListener('click', (e)=>{
      if(!card.contains(e.target)) card.classList.remove('open');
    });
  });
</script>
<script>
(function(){
  const BOX = document.getElementById('latest-news');
  const ERR = document.getElementById('latest-error');

  // твой репозиторий
  const REPO_OWNER = "Lyrielochka";
  const REPO_NAME  = "school-site";
  const BRANCH     = "main";

  const API_LIST = `https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/news?ref=${BRANCH}`;
  const RAW_FILE = (name)=>`https://raw.githubusercontent.com/${REPO_OWNER}/${REPO_NAME}/${BRANCH}/news/${encodeURIComponent(name)}`;

  function parseFrontMatter(md){
    const m = md.match(/^---\s*([\s\S]*?)\s*---\s*([\s\S]*)$/);
    if(!m) return {meta:{}, body:md};
    const yaml = m[1], body = m[2];
    const meta = {};
    yaml.split(/\r?\n/).forEach(line=>{
      const mm = line.match(/^(\w+):\s*(.*)$/);
      if(mm){
        const k=mm[1].trim(); let v=mm[2].trim();
        if(/^".*"$/.test(v)||/^'.*'$/.test(v)) v=v.slice(1,-1);
        meta[k]=v;
      }
    });
    return {meta, body};
  }
  const fmtDate = s => {
    try { return new Date(s).toLocaleDateString('ru-RU',{year:'numeric',month:'long',day:'2-digit'}); }
    catch { return s; }
  };

  async function loadLatest(){
    try{
      const res = await fetch(API_LIST);
      if(!res.ok) throw res;
      const files = await res.json();
      const mdFiles = files.filter(f=>/\.md$/i.test(f.name));
      const raws = await Promise.all(mdFiles.map(f=>fetch(RAW_FILE(f.name)).then(r=>r.text().then(t=>({name:f.name, text:t})))));

      let items = raws.map(({name,text})=>{
        const {meta, body} = parseFrontMatter(text);
        const firstLine = (body.split('\n').find(l=>l.trim())||"").trim();
        return {
          file: name,
          title: meta.title || name.replace(/\.md$/,''),
          date:  meta.date || "",
          cover: meta.cover || "",
          excerpt: meta.excerpt || (firstLine.length>140? firstLine.slice(0,140)+'…' : firstLine)
        };
      }).sort((a,b)=> new Date(b.date)-new Date(a.date))
        .slice(0,3);

      // верстаем под твой стиль «event»-карточек
      BOX.innerHTML = items.map(it=>`
        <article class="event" style="overflow:hidden">
          ${it.cover ? `
            <img src="${it.cover}" alt="" loading="lazy"
                 style="width:100%;height:160px;object-fit:cover;border-radius:10px;border:1px solid var(--line);margin-bottom:10px">
          ` : ``}
          <h3 style="color:var(--accent);margin:0">${it.title}</h3>
          ${it.date ? `<small>${fmtDate(it.date)}</small>` : ``}
          ${it.excerpt ? `<p style="margin-top:6px">${it.excerpt}</p>` : ``}
          <p style="margin-top:8px">
            <a href="news.html?slug=${encodeURIComponent(it.file)}" style="color:var(--accent);text-decoration:none">Читать полностью →</a>
          </p>
        </article>
      `).join('');
    }catch(e){
      console.error(e);
      ERR.style.display = '';
    }
  }

  loadLatest();
})();
</script>

</body>
</html>
